/*! For license information please see mooTabControl.eb92b20a.js.LICENSE.txt */
(()=>{var t,e;t=document.id,e=new Class({Implements:[Options],options:{behaviour:"click",hoverClass:"",initialTab:"",onChange:function(){},selectedClass:"",autoSlide:!1,delay:5e3,bgOverlayTab:"",bgOverlayCss:"",addFade:!1,defaultTab:"",tab_remember:!1,tab_cookiename:"",tab_control:""},initialize:function(e,i){this.setOptions(i),this.element=t(e),this.panes=new Array,this.tabs=new Array,this.anchoredPane=!1,this.behaviour=this.options.behaviour,this.hoverClass=this.options.hoverClass,this.initialTab=this.options.initialTab,this.onChange=this.options.onChange,this.selectedClass=this.options.selectedClass,this.bgOverlayTab=this.options.bgOverlayTab,this.bgOverlayCss=this.options.bgOverlayCss,this.addFade=this.options.addFade,this.defaultTab=this.options.defaultTab,this.tab_remember=Boolean(this.options.tab_remember),this.tab_cookiename=this.options.tab_cookiename,this.tab_control=this.options.tab_control,this._initTabs(),this._initPanes(),this.maxIndex=0,this.currentIndex=0,this.hashCheck(),this.doSelect(),this.options.autoSlide&&this.continueSlide()},onTabHashChange:function(){this.hashCheck(),this.anchoredPane&&this.doSelect()},doSelect:function(){this.tab_remember&&this.checkCookie()&&!this.anchoredPane?this.reselectActiveTabByCookie():this.selectTab(null,this.initialTab)},hashCheck:function(){var e=this,i=location.hash.substr(1);if(e.anchoredPane=t(i),!e.initialTab||e.anchoredPane){var s=e.defaultTab?e.defaultTab:0;e.anchoredPane&&e.panes.each((function(t,i){if(e.anchoredPane.id===t.id)return s=i,!1})),s>=0&&(e.initialTab=e.tabs[s])}},dispose:function(){},_initPanes:function(){var e=this.options.panes||new Array;if(!e.length){var i=null;this.element.getElements("div").each((function(t){t.id&&0==t.id.search(/^pane(\d+)$/)&&(i=t.getParent().getParent(),e.push(t))}))}e.each((function(e){i=e.getParent().getParent(),this.panes.push(t(e))}),this),i&&this._initHoverListeners(this,i)},_initHoverListeners:function(t,e){this.options.autoSlide&&(e.addEvent("mouseover",(function(){t.pauseSlide()})),e.addEvent("mouseout",(function(){t.autoSlide||t.continueSlide()})))},_initTabs:function(){var e=this.options.tabs||new Array;e.length||this.element.getElements("div").each((function(t){t.id&&0==t.id.search(/^tab(\d+)$/)&&e.push(t)})),e.each((function(e){var i=t(e),s=this;this._initHoverListeners(s,i),i.addEvent(this.behaviour,(function(){s.options.autoSlide=!1,s.selectTab(this,i)})),"mouseover"!=this.behaviour&&(i.addEvent("mouseover",this.highlightTab.bind(this,i)),i.addEvent("mouseout",this.unHighlightTab.bind(this,i))),this.tabs.push(i)}),this)},getTabIndex:function(e){return this.tabs.indexOf(t(e))},highlightTab:function(t){this.hoverClass&&(t.hasClass(this.hoverClass)||t.addClass(this.hoverClass))},selectTab:function(e,i){var s,a;if(i=t(i),this.tabs.each((function(e,n){e===i?(e.addClass(this.selectedClass),this.addFade?this.panes[n]&&this.panes[n].setStyle("display","block").fade("in"):this.panes[n]&&this.panes[n].setStyle("display","block"),s=this.panes[n],a=e,this.bgOverlayTab&&t(this.bgOverlayTab).addClass(this.bgOverlayCss+n),this.currentIndex=n):(e.removeClass(this.selectedClass),this.addFade?this.panes[n]&&this.panes[n].fade("out").setStyle("display","none"):this.panes[n]&&this.panes[n].setStyle("display","none"),this.bgOverlayTab&&t(this.bgOverlayTab).removeClass(this.bgOverlayCss+n))}),this),this.tab_remember&&a){var n=a.get("id");this.setTabCookie({current_tab:n})}this.onChange(s,a)},setTabCookie:function(t){Cookie.write("tcActiveTab_"+this.tab_cookiename,JSON.encode(t),{duration:14})},checkCookie:function(){return null!=Cookie.read("tcActiveTab_"+this.tab_cookiename)},reselectActiveTabByCookie:function(){var t=Cookie.read("tcActiveTab_"+this.tab_cookiename);if(null!=t){var e=JSON.decode(t),i=document.id(e.current_tab);this.selectTab(null,i)}},selectTabByIndex:function(t,e){if(t<0&&e)t=0;else if(this.tabs.length<=t&&e)t=this.tabs.length-1;else if(t<0||t>=this.tabs.length)return;this.selectTab(null,this.tabs[t])},unHighlightTab:function(t){this.hoverClass&&t.hasClass(this.hoverClass)&&t.removeClass(this.hoverClass)},skipNext:function(t){this.currentIndex+=1,this.currentIndex>=this.tabs.length&&(this.currentIndex=0),this.selectTabByIndex(this.currentIndex)},pauseSlide:function(){clearInterval(this.autoSlide),this.autoSlide=null},continueSlide:function(){this.options.autoSlide&&(this.autoSlide=this.skipNext.periodical(this.options.delay,this))}}),window.TabControl=e})();